{"ast":null,"code":"var _jsxFileName = \"/Users/dloyd/summer_sc/ShelterCareAdminPort/src/components/dataTable/index.js\";\nimport React from 'react';\nimport './App.css';\nimport { emptyMsg } from '../../constants/emptyMessages';\n\nclass ExpandMinimizeButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      symbol: props.symbol\n    };\n  }\n\n  onExOrMin() {\n    this.props.onClickFunction();\n\n    if (this.state.symbol === \"Expand\") {\n      this.setState({\n        symbol: \"Minimize\"\n      });\n    } else {\n      this.setState({\n        symbol: \"Expand\"\n      });\n    }\n  }\n\n  render() {\n    return React.createElement(\"button\", {\n      className: \"btn btn-info btn-sm\",\n      onClick: () => this.onExOrMin(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28\n      },\n      __self: this\n    }, \" \", this.state.symbol, \" \");\n  }\n\n}\n\nexport class DatabaseTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.query = props.query;\n    this.field = this.props.query.toLowerCase();\n    this.field_upper = this.props.query.toUpperCase();\n    this.elements = undefined;\n    this.state = {\n      inputVal: \"\",\n      elements: [] //this is a list of all the elements gotten from the database in fetch information\n\n    };\n    setTimeout(this.init.bind(this), 200);\n  }\n\n  init() {\n    this.setSearch(this.field);\n  }\n\n  setSearch(field, event) {\n    this.props.firebase.doSearch({\n      type: this.field,\n      substr: window.document.getElementById(this.field + \"SearchInput\").value,\n      updateListBind: this.props.updateList\n    }, this.props.updateStatus);\n  }\n\n  addFiller() {\n    if (this.props.elements.length === 0) {\n      this.props.updateList(emptyMsg, this.field); //console.log(this.props);\n      //console.log(this.field);\n    }\n  }\n\n  addButtonClick() {\n    const input = window.document.getElementById(this.field + \"SearchInput\");\n    const toAdd = input.value;\n\n    if (toAdd === \"\") {\n      this.props.updateStatus(\"Cannot add an empty string to the database\");\n      return;\n    }\n\n    this.props.firebase.doAddHelper({\n      type: this.field,\n      adding: toAdd,\n      statusFunc: this.props.updateStatus\n    }, () => {\n      this.props.updateField(\"ADD\" + this.field_upper, toAdd);\n    });\n    input.value = \"\";\n    setTimeout(() => {\n      this.props.firebase.doSearch({\n        type: this.field,\n        substr: \"\",\n        updateListBind: this.props.updateList\n      }, this.props.updateStatus);\n    }, 180);\n  }\n\n  buildTable() {\n    var els = this.props.elements.map((item, i) => {\n      var button = \"\";\n\n      if (item != emptyMsg) {\n        button = React.createElement(\"button\", {\n          id: \"rem-btn\",\n          className: \"btn btn-danger btn-sm\",\n          onClick: () => {\n            this.props.firebase.doDeleteHelper({\n              type: this.field,\n              deleting: item,\n              statusFunc: this.props.updateStatus\n            }, () => {\n              this.props.updateField(\"DELETE\" + this.field_upper, item);\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86\n          },\n          __self: this\n        }, \"-\");\n      } else {\n        button = React.createElement(\"button\", {\n          id: \"add-btn\",\n          className: \"btn btn-success btn-sm\",\n          onClick: () => {\n            this.addButtonClick();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, \"Add now\");\n      }\n\n      return React.createElement(\"tr\", {\n        key: i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        key: i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, \" \", item, \" \"), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, button));\n    });\n    return React.createElement(\"div\", {\n      className: \"tables\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      className: \"table\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"thead\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"form-control\",\n      id: this.field + \"SearchInput\",\n      type: \"text\",\n      placeholder: \"search\",\n      onChange: event => {\n        this.setSearch(this.field, event);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    })), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      id: \"add-btn\",\n      className: \"btn btn-success btn-sm\",\n      onClick: () => {\n        this.addButtonClick();\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, \"+\")))), React.createElement(\"tbody\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, els)));\n  }\n\n  render() {\n    //console.log(this.props.elements);\n    setTimeout(this.addFiller.bind(this), 1); //this.addFiller();\n\n    return this.buildTable();\n  }\n\n}\nexport default DatabaseTable;","map":{"version":3,"sources":["/Users/dloyd/summer_sc/ShelterCareAdminPort/src/components/dataTable/index.js"],"names":["React","emptyMsg","ExpandMinimizeButton","Component","constructor","props","state","symbol","onExOrMin","onClickFunction","setState","render","DatabaseTable","query","field","toLowerCase","field_upper","toUpperCase","elements","undefined","inputVal","setTimeout","init","bind","setSearch","event","firebase","doSearch","type","substr","window","document","getElementById","value","updateListBind","updateList","updateStatus","addFiller","length","addButtonClick","input","toAdd","doAddHelper","adding","statusFunc","updateField","buildTable","els","map","item","i","button","doDeleteHelper","deleting"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport {emptyMsg} from '../../constants/emptyMessages';\n  class ExpandMinimizeButton extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        symbol: props.symbol\n      };\n    }\n  \n    onExOrMin(){\n      this.props.onClickFunction();\n      if(this.state.symbol === \"Expand\") {\n        this.setState({\n          symbol: \"Minimize\"\n        })\n      }\n      else {\n        this.setState({\n          symbol: \"Expand\"\n        })\n      }\n    }\n  \n    render () {\n      return (\n        <button className='btn btn-info btn-sm' onClick={() => this.onExOrMin()}> {this.state.symbol} </button>\n      );\n    }\n  \n  }\n\n  export class DatabaseTable extends React.Component {\n    constructor(props){\n      super(props);\n      this.query = props.query;\n      this.field = (this.props.query).toLowerCase();\n      this.field_upper = (this.props.query).toUpperCase();\n      this.elements = undefined;\n      this.state = {\n        inputVal: \"\",\n        elements: [] //this is a list of all the elements gotten from the database in fetch information\n      };\n      setTimeout(this.init.bind(this), 200);\n    }\n    init()\n    {\n        this.setSearch(this.field);\n    }\n    setSearch(field, event)\n    {\n        this.props.firebase.doSearch({type:this.field, substr:window.document.getElementById(this.field+\"SearchInput\").value, updateListBind: this.props.updateList}, this.props.updateStatus);\n    }\n    \n    addFiller()\n    {\n      if(this.props.elements.length === 0)\n      {\n        this.props.updateList(emptyMsg, this.field);\n        //console.log(this.props);\n        //console.log(this.field);\n      }\n    }\n    addButtonClick()\n    {\n      const input = window.document.getElementById(this.field+\"SearchInput\");\n      const toAdd = input.value;\n      if(toAdd === \"\")\n      {\n        this.props.updateStatus(\"Cannot add an empty string to the database\");\n        return ;\n      }\n      this.props.firebase.doAddHelper({type: this.field, adding: toAdd, statusFunc: this.props.updateStatus}, () => {this.props.updateField(\"ADD\"+this.field_upper, toAdd);});\n      input.value = \"\";\n      setTimeout( ()=>{\n        this.props.firebase.doSearch({type:this.field, substr: \"\", updateListBind: this.props.updateList}, this.props.updateStatus);\n      },180);\n    }\n    buildTable()\n    {\n      var els = this.props.elements.map( (item, i) => {\n        var button = \"\";\n        if(item != emptyMsg)\n        {\n          button = <button id='rem-btn' className='btn btn-danger btn-sm' onClick={() => {this.props.firebase.doDeleteHelper({type: this.field, deleting: item, statusFunc: this.props.updateStatus}, () => {this.props.updateField(\"DELETE\"+this.field_upper, item);})}}>-</button>  \n        }\n        else \n        {\n          button = <button id='add-btn' className='btn btn-success btn-sm' onClick={()=>{\n              this.addButtonClick();\n            }\n          }>Add now</button> \n        }\n        return (\n          <tr key={i}>\n            <td key={i}> {item} </td>\n            <td>{button}</td>\n          </tr>\n        );} \n        ) \n  \n      return (\n        <div className='tables'>\n          <table className='table'>\n            <thead>\n              <tr>\n                <td>\n                  <input className='form-control' id={this.field+\"SearchInput\"} type=\"text\" placeholder=\"search\" onChange={(event)=>{this.setSearch(this.field,event)}}></input>\n                </td>\n                <td>\n                  <button id='add-btn' className='btn btn-success btn-sm' onClick={()=>{\n                      this.addButtonClick();\n                    }\n                    }>+</button> \n                </td>\n              </tr>\n            </thead>\n            <tbody>\n              {els}\n              \n            </tbody>\n          </table>\n          \n        </div>\n      )\n    }\n  \n    render () {\n      //console.log(this.props.elements);\n      setTimeout(this.addFiller.bind(this), 1);\n      //this.addFiller();\n      return (\n        this.buildTable()\n      );\n    }\n  }\n  \nexport default DatabaseTable;"]},"metadata":{},"sourceType":"module"}